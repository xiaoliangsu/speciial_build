webpackJsonp([6],{668:function(e,t,a){function n(e){a(790)}var i=a(47)(a(721),a(827),n,"data-v-3e2dd348",null);e.exports=i.exports},687:function(e,t,a){"use strict";function n(e){return a.i(o.a)("/apply/getWorkFlow",e,"post")}function i(e){return a.i(o.a)("/apply/delete?"+e,e,"get")}function r(e){return a.i(o.a)("/apply/getWorkFlow",e,"post")}t.a=n,t.c=i,t.b=r;var o=a(97)},697:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"breadCrumb",props:["bread_choose"],data:function(){return{}},method:{}}},698:function(e,t,a){t=e.exports=a(648)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"breadCrumb.vue",sourceRoot:""}])},699:function(e,t,a){var n=a(698);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(649)("769a0950",n,!0)},700:function(e,t,a){function n(e){a(699)}var i=a(47)(a(697),a(701),n,"data-v-60f5ecba",null);e.exports=i.exports},701:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"breadCrumb"},[a("Breadcrumb",[a("BreadcrumbItem",{attrs:{href:"/home"}},[e._v("首页")]),e._v(" "),a("BreadcrumbItem",[e._v("首次申请")]),e._v(" "),a("BreadcrumbItem",[e._v(e._s(e.bread_choose))])],1)],1)},staticRenderFns:[]}},721:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(71),i=a.n(n),r=a(48),o=a(687),s=a(700),d=a.n(s);t.default={data:function(){var e=this;return{deviceList:[{value:"boiler",label:"锅炉"},{value:"pressure",label:"压力容器（气瓶除外）"},{value:"elevator",label:"电梯"},{value:"hoisting",label:"起重机械"},{value:"cableway",label:"客运索道"},{value:"play",label:"大型游乐设施"},{value:"factorycar",label:"场 (厂)内专用机动车辆"},{value:"cylinders",label:"气瓶(车用气瓶除外)"},{value:"pipeline",label:"工业管道"},{value:"carbox",label:"车用气瓶"}],bread_choose_value:"",bread_choose:"",columns5:[{title:"设备代码",key:"eqCode"},{title:"产品名称",key:"deviceName"},{title:"提交日期",key:"createTime",sortable:!0},{title:"设备种类",key:"deviceCategory"},{title:"设备类别",key:"deviceClass"},{title:"设备品种",key:"deviceKind"},{title:"申请类别",key:"applyType"},{title:"登记机关",key:"acceptorAgencyName"},{title:"申请状态",key:"state"},{title:"操作",key:"state",render:function(t,a){return t("div",[t("Button",{props:{type:"primary"},style:{marginRight:"5px"},on:{click:function(){e.continueApp(a.index)}}},"继续填写"),t("Button",{props:{type:"error"},style:{marginRight:"5px",marginTop:"4px"},on:{click:function(){e.deleteApp(a.index)}}},"删除申请")])}}],data5:[],num:0,params:{time:"",sort:"",state:"",page:1},device_detail:"",device_type:"",currentPage:1}},components:{VBreadCrumb:d.a},mounted:function(){this.initData()},watch:{"$route.query":function(){console.log(this.$route.path),"/newOrLast"==this.$route.path&&this.initData()}},computed:i()({},a.i(r.a)(["getDeviceType","getDeviceTypeName"])),methods:i()({},a.i(r.b)(["setDeviceType"]),{initData:function(){this.$refs.pages.currentPage=1,this.device_type=this.$route.query.device_type,this.setDeviceType(this.$route.query.device_type);var e={deviceTypeId:parseInt(this.device_type),applyTypeId:1,states:[0,0],page:0,size:10};this.getInitOrders(e)},getOrders:function(e){var t=this;o.a(e).then(function(e){if(e.data.content){t.data5=e.data.content,t.num=e.data.totalElements;for(var a=0;a<e.data.content.length;a++){t.data5[a].state=e.data.content[a].status.states;var n=new Date(e.data.content[a].createTime),i=n.getFullYear()+"-",r=(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1)+"-",o=n.getDate()+" ";t.data5[a].createTime=i+r+o}}else t.data5=""}).catch(function(e){console.log(e)})},getInitOrders:function(e){this.getOrders(e)},toNewApp:function(){this.device_type<8?this.$router.push({path:"setApp",query:{device_type:this.device_type}}):9==this.device_type||10==this.device_type?this.$router.push({path:"companyApp",query:{device_type:this.device_type}}):this.$router.push({path:"carboxApp",query:{device_type:this.device_type}})},initSize:function(e){var t={deviceTypeId:parseInt(this.device_type),applyTypeId:1,states:[0,0],page:e-1,size:10};this.getOrders(t)},deleteApp:function(e){var t=this;this.$Modal.confirm({title:"确认对话框标题",content:"<p>确认删除该条申请？</p>",onOk:function(){var a="applyId="+t.data5[e].id;o.c(a).then(function(e){var a={deviceTypeId:parseInt(t.device_type),applyTypeId:1,states:[0,0],page:0,size:10};t.getInitOrders(a)}).catch(function(e){console.log(e)})},onCancel:function(){t.$Message.info("点击了取消")}})},continueApp:function(e){this.modifyApp(e,this.device_type)}})}},754:function(e,t,a){t=e.exports=a(648)(!0),t.push([e.i,".bread[data-v-3e2dd348]{margin-bottom:5px}.newButton[data-v-3e2dd348]{margin:10px}.list-box[data-v-3e2dd348]{display:block;height:auto;padding:0 10px 50px;border:1px solid #e5e5e5;border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:3px;border-bottom-left-radius:3px;border-color:#dddee1;margin-top:10px;box-sizing:border-box}.list-box .page[data-v-3e2dd348]{float:right;margin:10px}.list-box-head[data-v-3e2dd348]{margin:5px}","",{version:3,sources:["/Users/zhangyunlong/Downloads/my-project/src/page/apply/newOrLast.vue"],names:[],mappings:"AACA,wBACE,iBAAmB,CACpB,AACD,4BACE,WAAa,CACd,AACD,2BACE,cAAe,AACf,YAAa,AACb,oBAA0B,AAC1B,yBAA0B,AAC1B,yBAA0B,AAC1B,0BAA2B,AAC3B,+BAAgC,AAChC,8BAA+B,AAC/B,qBAAsB,AACtB,gBAAiB,AACjB,qBAAuB,CACxB,AACD,iCACI,YAAa,AACb,WAAa,CAChB,AACD,gCACE,UAAY,CACb",file:"newOrLast.vue",sourcesContent:["\n.bread[data-v-3e2dd348] {\n  margin-bottom: 5px;\n}\n.newButton[data-v-3e2dd348] {\n  margin: 10px;\n}\n.list-box[data-v-3e2dd348] {\n  display: block;\n  height: auto;\n  padding: 0 10px 50px 10px;\n  border: 1px solid #e5e5e5;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 3px;\n  border-bottom-left-radius: 3px;\n  border-color: #dddee1;\n  margin-top: 10px;\n  box-sizing: border-box;\n}\n.list-box .page[data-v-3e2dd348] {\n    float: right;\n    margin: 10px;\n}\n.list-box-head[data-v-3e2dd348] {\n  margin: 5px;\n}\n"],sourceRoot:""}])},790:function(e,t,a){var n=a(754);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(649)("6581e34e",n,!0)},827:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"newOrLast"},[a("div",{staticClass:"list-box"},[a("h2",{staticClass:"list-box-head"},[e._v("未提交申请")]),e._v(" "),a("Table",{attrs:{border:"",columns:e.columns5,data:e.data5}}),e._v(" "),a("Page",{ref:"pages",staticClass:"page",attrs:{current:e.currentPage,total:this.num,size:"small","show-elevator":"","page-size":10},on:{"on-change":e.initSize}})],1),e._v(" "),a("Button",{staticClass:"newButton",attrs:{type:"primary",shape:"circle"},on:{click:function(t){e.toNewApp()}}},[a("Icon",{attrs:{type:"plus-round"}}),e._v("\n    新建申请\n  ")],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=6.542650f421b89e9d712e.js.map